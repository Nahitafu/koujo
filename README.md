# 所得控除シミュレーション
所得税、社会保険、住民税などの計算を行うPythonのスクリプトです。

[Pythonのプログラムはこちら](./koujo.py "所得控除シミュレーション")

年収100万円から1億円までの所得税、社会保険、住民税、手取額を計算します。

変化が大きい部分は刻み幅を変えています。

実行結果はresult.csvに記載しています。

このテキストファイルのカンマをタブに変えてExcelに貼り付ければグラフにできます。

[実行結果のcsvはこちら](./result.csv "実行結果")

<H1>実行結果をグラフにしてみる</H1>
<h2>控除額を見てみる</h2>
100万円から1億円までの控除額です。

<H2>控除額</H2>
まずは、給与所得1億円までの控除額をグラフにします。

![控除額](./koujo-linear.png)

多くの人が該当する2000万円までを詳細に見ていきます。

社会保険料がカクカクしているのは等級というランクがあるからです。<br>
社保は1600万円付近でカンストするので、それ以上は増えません。<br>
社保を節税したいなら月給を140万円以上にしましょう。

![2000万円までの詳細](./koujo2000-linear.png)

<h2>手取り額</h2>
年収1000万円から2000万円までの手取り額をグラフ化してみます。
1000万円のときは281万円ほどが差し引かれ、2000万円のときは713万円が差し引かれます。

![1000-2000万円の詳細](./koujo1000-2000.png)

<H1>税率で見てみる</H1>
次に税率を考えてみましょう。青い線がトータルの税率で、オレンジの線がその増分です。

<H2>税金の増分</H2>
例えば収入が1円増えたときに何円が税＋社保で取られるかを考えましょう。それを増分と呼ぶことにします。
ある収入での増分が42%だとすると、収入が1万円増えた場合に税はトータルで4200円増えます。所得を1万円減らせば税負担は4200円減ります。

![税率](./zeiritu.png)

![1000-2000万円の税率](./zei1000-2000.png)

<H2>割安感を感じるゾーン</H2>
増分(オレンジ)の線が税率(青)より下にあると、税金は割安に感じてそれほど税金の重さを感じません。
割安ゾーンで増分15%の人は例えば10000円の控除があっても実際の税負担は1500円しか減りません。

![割安感](./wariyasu.png)

<H2>重税感を感じるゾーン</H2>
逆に、増分(オレンジ)の線が税率(青)より上にあると、重税感を感じます。
このしんどいゾーンにいる人は、ふるさと納税をはじめとした各種控除を有効に活用して、節税を行うことが有効です。

![しんどい](./shindoi.png)

<H1>ご注意</H1>

:::note alert
このシミュレーションは、概ね正しいと思われますが、以下の点で誤差があります。多くても1万円以内です。
* 住民税の調整控除が正しくないので2500～5000円ほどの誤差が出る場合がある。
* 収入が少ない場合の住民税の計算はチェックしていない。
* 復興特別消費税の計算は自信がない。
:::

全体的に、課税標準所得などを計算する際の1000円や100円未満を切り捨てる処理に自身がありません。また、 所得税と住民税の基礎控除の違いについてはちょっと端折っています。計算自体には問題がないと思いますが。

配偶者控除や扶養控除、ふるさと納税、政党寄付などがある人や、事業所得や金融所得などがある人は少し変わってきますが、全体的に横にスライドするだけでグラフの傾向に大きな差はありません。
